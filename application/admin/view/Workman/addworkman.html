<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>工作人员</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="format-detection" content="telephone=no">

		<link rel="stylesheet" href="__PUBLIC__static/plugins/layui/css/layui.css" media="all" />
		<link rel="stylesheet" href="__PUBLIC__static/plugins/font-awesome/css/font-awesome.min.css">
	</head>
	<script type="text/javascript" src="__PUBLIC__static/plugins/layui/layui.js"></script>
		<script type="text/javascript" src="__PUBLIC__static/js/jquery-3.1.1.min.js"></script>
	<body>
		<div style="margin: 15px;">
			<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
				<legend>添加工作人员</legend>
			</fieldset>

			<form class="layui-form" action="{:url('workman/addworkman')}" method="post" enctype="multipart/form-data">
				<div class="layui-form-item">
					<label class="layui-form-label">姓名</label>
					<div class="layui-input-block">
						<input type="text" name="name" lay-verify="required" autocomplete="off" placeholder="姓名" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">工号</label>
					<div class="layui-input-block">
						<input type="text" name="number" lay-verify="required" placeholder="工号" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">职称</label>
					<div class="layui-input-block">
						<input type="text" name="posttitle" lay-verify="required" placeholder="职称" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">职务</label>
					<div class="layui-input-block">
						<input type="text" name="userpost" lay-verify="required" placeholder="职务" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">政治面貌</label>
					<div class="layui-input-block">
						<input type="text" name="politicalstatus" lay-verify="required" placeholder="政治面貌" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">电话</label>
					<div class="layui-input-block">
						<input type="text" name="mobile" lay-verify="required" placeholder="电话" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">手机</label>
					<div class="layui-input-block">
						<input type="text" name="phone" lay-verify="required" placeholder="手机" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">用户名</label>
					<div class="layui-input-block">
						<input type="text" name="loginname" lay-verify="username" placeholder="用户名" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">密码</label>
					<div class="layui-input-block">
						<input type="text" name="loginpass" lay-verify="required" placeholder="密码" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item sectionname">
					<label class="layui-form-label">部门</label>
				      <div class="layui-input-inline">
				        <select name="sectionid" lay-verify="required" lay-search="" >
				          <option value="">请选择</option>
				          {volist name="sec" id="v"}
				          <option value="{$v.id}">{$v.name}</option>
				          {/volist}
				        </select>
				      </div>
				</div>	
				<div class="layui-form-item">
					<label class="layui-form-label">星级</label>
					<div class="layui-input-block">
						<input type="text" name="starlevel" lay-verify="required" placeholder="星级" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item">
					<label class="layui-form-label">摄像设备编号</label>
					<div class="layui-input-block">
						<input type="text" name="cameranum" lay-verify="required" placeholder="摄像设备编号" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-form-item layui-form-text">
					<label class="layui-form-label">个人简介</label>
					<div class="layui-input-block">
						<textarea placeholder="请输入内容" name="summary" class="layui-textarea"></textarea>
					</div>
				</div>
				<div class="layui-form-item layui-form-text">
					<label class="layui-form-label">办理事项</label>
					<div class="layui-input-block">
						<textarea placeholder="请输入内容" name="business" class="layui-textarea" lay-verify="required"></textarea>
					</div>
				</div>	
				<div class="layui-form-item layui-form-text">
					<label class="layui-form-label">岗位职责</label>
					<div class="layui-input-block">
						<textarea placeholder="请输入内容" name="duty" class="layui-textarea" lay-verify="required"></textarea>
					</div>
				</div>	
				<div class="layui-form-item layui-form-text">
					<label class="layui-form-label">服务承诺</label>
					<div class="layui-input-block">
						<textarea placeholder="请输入内容" name="promise" class="layui-textarea" lay-verify="required"></textarea>
					</div>
				</div>
				<div class="layui-form-item layui-form-text">
					<label class="layui-form-label">图片上传</label>
					<div class="layui-input-block">
						<div class="control-group js_uploadBox clearfix">
						    <div class="btn-upload">
						      <input class="js_upFile" type="file" name="photo" style="margin-top: 10px;">
						    </div>
						    
						    <div class="js_showBox" style="margin-top: 20px;width: 240px;height: 350px;overflow: hidden;"><img class="js_logoBox" src="" width="240px" height="350px" ></div>
						</div>
					</div>
				</div>	
				<div class="layui-form-item">
					<div class="layui-input-block">
						<button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
					</div>
				</div>
			</form>
		</div>
	</body>
	<script src="__PUBLIC__assets/js/jquery.uploadView.js"></script>  
<script>
$(".js_upFile").uploadView({
	uploadBox: '.js_uploadBox',//设置上传框容器
	showBox : '.js_showBox',//设置显示预览图片的容器
	width : 240, //预览图片的宽度，单位px
	height : 350, //预览图片的高度，单位px
	allowType: ["gif", "jpeg", "jpg", "bmp", "png"], //允许上传图片的类型
	maxSize :2, //允许上传图片的最大尺寸，单位M
	success:function(e){
		// $(".js_uploadText").text('更改');
		// alert('图片上传成功');
	}
});
</script>
<script>
	layui.use(['form', 'layedit', 'laydate'], function() {
		var form = layui.form(),
			layer = layui.layer,
			layedit = layui.layedit,
			laydate = layui.laydate;

			form.verify({
			    required: function(value){
			      if(value.length < 1){
			        return '不能为空';
			      }
			    },
			    username:[/^[\x01-\x7f]*$/, '用户名不能用中文']
			  });
	});
</script>
</html>